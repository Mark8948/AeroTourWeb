<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="it">
<head>
  <meta charset="UTF-8">
  <title>Area Admin â€“ Gestione Ordini</title>
  <link rel="stylesheet" th:href="@{/css/style.css}"/>
  <link rel="stylesheet" th:href="@{/css/planepagesform.css}"/>
</head>
<body>

  <!-- Header -->
  <div th:replace="~{fragments/header :: header}"></div>

  <div class="container" style="background: #fff;">
    <h1>Gestione Ordini in Attesa</h1>

    <table>
      <thead>
        <tr>
          <th>#</th>
          <th class="text-center">Azioni</th>
        </tr>
      </thead>
      <tbody>
        <tr th:if="${orders == null or #lists.isEmpty(orders)}">
          <td colspan="2" class="text-center">Nessun ordine in attesa.</td>
        </tr>

        <tr th:each="order, stat : ${orders}"
            th:if="${order.stato == T(it.uniroma3.siw.model.enums.Status).IN_ATTESA_DI_CONFERMA}">
          <td th:text="${stat.count}">1</td>
          <td class="text-center">
            <form th:action="@{'/admin/confirmOrder/' + ${order.id}}"
                  method="post" style="display:inline">
              <input type="hidden" th:name="${_csrf.parameterName}"
                     th:value="${_csrf.token}" />
              <button type="submit" class="btn-confirm">Conferma</button>
            </form>
            <form th:action="@{'/admin/rejectOrder/' + ${order.id}}"
                  method="post" style="display:inline">
              <input type="hidden" th:name="${_csrf.parameterName}"
                     th:value="${_csrf.token}" />
              <button type="submit" class="btn-cancel">Rifiuta</button>
            </form>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- Footer -->
  <div th:replace="~{fragments/footer :: footer}"></div>
</body>
</html>
