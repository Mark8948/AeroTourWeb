<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="it">
<head>
  <meta charset="UTF-8">
  <title>Area Admin â€“ Gestione Ordini</title>
  <link rel="stylesheet" th:href="@{/css/style.css}"/>
  <link rel="stylesheet" th:href="@{/css/planepagesform.css}"/>
  <style>
	/* Reset di base */
	*,
	*::before,
	*::after {
	  box-sizing: border-box;
	  margin: 0;
	  padding: 0;
	}

	body {
	  font-family: Arial, sans-serif;
	  background-color: #f5f6fa;
	  color: #333;
	  line-height: 1.6;
	}

	/* Contenitore principale */
	.container {
	  max-width: 900px;
	  margin: 2rem auto;
	  padding: 1.5rem;
	  background: #fff;
	  border-radius: 8px;
	  box-shadow: 0 0 8px rgba(0,0,0,0.1);
	}

	/* Titolo pagina */
	.container h1 {
	  margin-bottom: 1.5rem;
	  font-size: 1.8rem;
	  text-align: center;
	  color: #2c3e50;
	}

	/* Tabella ordini */
	table {
	  width: 100%;
	  border-collapse: collapse;
	}

	thead {
	  background-color: #34495e;
	  color: #fff;
	}

	thead th {
	  padding: 0.75rem;
	  text-align: left;
	}

	tbody td {
	  padding: 0.75rem;
	  border-bottom: 1px solid #ddd;
	}

	tbody tr:hover {
	  background-color: #f0f0f0;
	}

	/* Allineamento testo centro per colonna Azioni */
	.text-center {
	  text-align: center;
	}

	/* Nessun ordine */
	tbody td[colspan="2"] {
	  font-style: italic;
	  color: #555;
	}

	/* Bottoni */
	button.btn {
	  padding: 0.5rem 1rem;
	  margin: 0 0.25rem;
	  border: none;
	  border-radius: 4px;
	  cursor: pointer;
	  font-weight: bold;
	  font-size: 0.95rem;
	  transition: background-color 0.2s ease;
	}

	button.btn-confirm {
	  background-color: #27ae60;
	  color: #fff;
	}

	button.btn-confirm:hover {
	  background-color: #2ecc71;
	}

	button.btn-reject {
	  background-color: #c0392b;
	  color: #fff;
	}

	button.btn-reject:hover {
	  background-color: #e74c3c;
	}


  </style>
</head>
<body>

  <!-- Header -->
  <div th:replace="~{fragments/header :: header}"></div>

  <div class="container">
    <h1>Gestione Ordini in Attesa</h1>

    <table>
      <thead>
        <tr>
          <th>#</th>
          <th class="text-center">Azioni</th>
        </tr>
      </thead>
      <tbody>
        <tr th:if="${orders == null or #lists.isEmpty(orders)}">
          <td colspan="2" class="text-center">Nessun ordine in attesa.</td>
        </tr>

        <tr th:each="order, stat : ${orders}"
            th:if="${order.stato == T(it.uniroma3.siw.model.enums.Status).IN_ATTESA_DI_CONFERMA}">
          <td th:text="${stat.count}">1</td>
          <td class="text-center">
            <form th:action="@{'/admin/confirmOrder/' + ${order.id}}"
                  method="post" style="display:inline">
              <input type="hidden" th:name="${_csrf.parameterName}"
                     th:value="${_csrf.token}" />
              <button type="submit" class="btn btn-confirm">Conferma</button>
            </form>
            <form th:action="@{'/admin/rejectOrder/' + ${order.id}}"
                  method="post" style="display:inline">
              <input type="hidden" th:name="${_csrf.parameterName}"
                     th:value="${_csrf.token}" />
              <button type="submit" class="btn btn-reject">Rifiuta</button>
            </form>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- Footer -->
  <div th:replace="~{fragments/footer :: footer}"></div>
</body>
</html>
